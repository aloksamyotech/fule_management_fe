"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[916,290],{2624:function(e,r,a){var l=a(6934),i=a(8860);const t=(0,l.ZP)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:i.Z.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:i.Z.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});r.Z=t},8860:function(e,r,a){var l=a(2065);const i={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},t={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:i[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:i[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:i,divider:(0,l.Fq)(i[500],.24),text:{primary:i[800],secondary:i[600],disabled:i[500]},background:{paper:"#fff",default:i[100],neutral:i[200]},action:{active:i[600],hover:(0,l.Fq)(i[500],.08),selected:(0,l.Fq)(i[500],.16),disabled:(0,l.Fq)(i[500],.8),disabledBackground:(0,l.Fq)(i[500],.24),focus:(0,l.Fq)(i[500],.24),hoverOpacity:.08,disabledOpacity:.48}};r.Z=t},5310:function(e,r,a){a.d(r,{Z:function(){return c}});var l=a(2007),i=a.n(l),t=a(2791),n=a(2711),o=a(4554),s=a(184);const d=(0,t.forwardRef)(((e,r)=>{let{icon:a,width:l=20,sx:i,...t}=e;return(0,s.jsx)(o.Z,{ref:r,component:n.JO,icon:a,sx:{width:l,height:l,...i},...t})}));d.propTypes={sx:i().object,width:i().oneOfType([i().number,i().string]),icon:i().oneOfType([i().element,i().string])};var c=d},9290:function(e,r,a){a.r(r);a(2791);var l=a(9157),i=a(1691),t=a(3767),n=a(890),o=a(6151),s=a(4554),d=a(7621),c=a(1956),u=a(39),m=a(2624),h=a(3504),f=a(184);r.default=()=>(0,f.jsx)("div",{children:(0,f.jsx)(l.Z,{dividers:!0,children:(0,f.jsxs)(i.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,f.jsxs)(t.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,f.jsx)(n.Z,{style:{marginBottom:"15px"},variant:"h6",children:(0,f.jsx)("h1",{children:"VIEW DUTY HISTORY DETAILS"})})," ",(0,f.jsx)(t.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,f.jsx)(o.Z,{variant:"contained",component:h.rU,to:"/management/assignDuty",children:"BACK"})})]}),(0,f.jsx)(m.Z,{children:(0,f.jsx)(s.Z,{width:"100%",children:(0,f.jsx)(d.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,f.jsx)(c._$,{rows:[{id:1,attendant:"ADMEOL",fuel:"PETROL",pump:"COMBO X",priceL:"165.00/ltrs",litersSold:"600.00Ltrs",totalAmount:"40,000,.00",date:"Wed 2nd March, 2022"}],columns:[{field:"attendant",headerName:"AttENDANT",flex:1,cellClassName:" name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"fuel",headerName:"FUEL",flex:1,cellClassName:" name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"pump",headerName:"PUMP",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"priceL",headerName:"PRICE/L",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"litersSold",headerName:"LITERS SOLD",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalAmount",headerName:"TOTAL AMOUNT",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:u.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})})})},6916:function(e,r,a){a.r(r),a.d(r,{default:function(){return z}});var l=a(2791),i=a(9164),t=a(3767),n=a(890),o=a(6151),s=a(4554),d=a(7621),c=a(2624),u=a(1956),m=a(39),h=a(5289),f=a(5661),p=a(9157),x=a(1691),g=a(1889),v=a(8096),Z=a(7133),j=a(8406),F=a(3786),y=a(7071),C=a(8550),b=a(7123),D=a(5130),A=a(2506),T=a(1724),w=a(5985),_=a(8860),N=a(5294),E=a(1240),S=a(184);var k=e=>{const{open:r,handleClose:a,fetchAssignData:i}=e,[t,s]=(0,l.useState)([]),[d,c]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),k=T.Ry({pump:T.Z_().required("Pump is required"),fuel:T.Z_().required("Fuel is required"),price:T.Z_().required("Price is required"),current_reading:T.Z_().required("Current Reading is required"),staff:T.Z_().required("assign is required")}),M=(0,A.TA)({initialValues:{pump:"",fuel:"",price:"",current_reading:"",staff:""},validationSchema:k,onSubmit:async e=>{console.log(e);try{"internal server error"==(await N.Z.post(null===E.l||void 0===E.l?void 0:E.l.addDuty,e)).data?w.Am.error("Something Went Wrong",{autoClose:600}):(w.Am.success("data saved successfully",{autoClose:600}),M.resetForm(),a(),await i())}catch(r){console.error("Error SavingData:",r),w.Am.error("Failed to add SavingData",{autoClose:600})}}});return(0,l.useEffect)((()=>{(async()=>{try{const e=(await N.Z.get(null===E.l||void 0===E.l?void 0:E.l.getPump)).data.map((e=>({name:null===e||void 0===e?void 0:e.code,id:null===e||void 0===e?void 0:e._id})));s(e)}catch(e){console.error("Error fetching fuel data:",e)}})(),(async()=>{try{const e=(await N.Z.get(null===E.l||void 0===E.l?void 0:E.l.getStaff)).data.map((e=>({name:null===e||void 0===e?void 0:e.full_name,id:null===e||void 0===e?void 0:e._id})));c(e)}catch(e){console.error("Error fetching supplier data:",e)}})(),(async()=>{try{const e=(await N.Z.get(null===E.l||void 0===E.l?void 0:E.l.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,id:null===e||void 0===e?void 0:e._id})));m(e)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,S.jsx)("div",{children:(0,S.jsxs)(h.Z,{open:r,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,S.jsxs)(f.Z,{style:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)(n.Z,{variant:"h3",style:{marginLeft:"180px"},children:"Add Duty List"}),(0,S.jsx)(n.Z,{children:(0,S.jsx)(D.Z,{onClick:a,style:{cursor:"pointer"}})})]}),(0,S.jsx)(p.Z,{dividers:!0,children:(0,S.jsxs)("form",{onSubmit:M.handleSubmit,children:[(0,S.jsx)(x.Z,{id:"scroll-dialog-description",tabIndex:-1,children:(0,S.jsxs)(g.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,S.jsx)(g.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,S.jsxs)(v.Z,{fullWidth:!0,children:[(0,S.jsx)(Z.Z,{children:"Select Pump"}),(0,S.jsx)(j.Z,{labelId:"demo-simple-select-label",id:"pump",name:"pump",label:"",size:"small",fullWidth:!0,value:M.values.pump||"",onChange:M.handleChange,error:M.touched.pump&&Boolean(M.errors.pump),helperText:M.touched.pump&&M.errors.pump,children:t&&t.map((e=>(0,S.jsx)(F.Z,{value:e.id,children:e.name},e.id)))}),(0,S.jsx)(y.Z,{style:{color:_.Z.error.main},children:M.touched.pump&&M.errors.pump})]})}),(0,S.jsxs)(g.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,S.jsx)(Z.Z,{children:"Fuel Type"}),(0,S.jsx)(j.Z,{labelId:"demo-simple-select-label",id:"fuel",name:"fuel",label:"",size:"small",fullWidth:!0,value:M.values.fuel,onChange:M.handleChange,error:M.touched.fuel&&Boolean(M.errors.fuel),children:u&&u.map((e=>(0,S.jsx)(F.Z,{value:e.id,children:e.name},e.id)))})]}),(0,S.jsxs)(g.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,S.jsx)(Z.Z,{children:"Today Price"}),(0,S.jsx)(C.Z,{id:"price",name:"price",size:"small",type:"number",fullWidth:!0,value:M.values.price,onChange:M.handleChange,error:M.touched.price&&Boolean(M.errors.price),helperText:M.touched.price&&M.errors.price})]}),(0,S.jsxs)(g.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,S.jsx)(Z.Z,{children:"Current Reading"}),(0,S.jsx)(C.Z,{id:"current_reading",name:"current_reading",size:"small",type:"number",fullWidth:!0,value:M.values.current_reading||"",onChange:M.handleChange,error:M.touched.current_reading&&Boolean(M.errors.current_reading),helperText:M.touched.current_reading&&M.errors.current_reading})]}),(0,S.jsxs)(g.ZP,{item:!0,xs:12,sm:12,md:12,children:[(0,S.jsx)(Z.Z,{children:"Assign this Pump to"}),(0,S.jsx)(j.Z,{id:"staff",name:"staff",label:"",size:"small",fullWidth:!0,value:M.values.staff||"",onChange:M.handleChange,error:M.touched.staff&&Boolean(M.errors.staff),helperText:M.touched.staff&&M.errors.staff,children:d&&d.map((e=>(0,S.jsx)(F.Z,{value:e.id,children:e.name},e.id)))}),(0,S.jsx)(y.Z,{style:{color:_.Z.error.main},children:M.touched.assign&&M.errors.assign})]})]})}),(0,S.jsxs)(b.Z,{children:[(0,S.jsx)(o.Z,{type:"submit",variant:"contained",style:{textTransform:"capitalize"},color:"secondary",children:"Save"}),(0,S.jsx)(o.Z,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},onClick:()=>{M.resetForm(),a()},color:"error",children:"Cancel"})]})]})})]})})},M=a(5310),P=(a(9290),a(2426)),B=a.n(P);var z=()=>{const[e,r]=(0,l.useState)(!1),[a,h]=(0,l.useState)([]),f=async()=>{try{const e=await N.Z.get(null===E.l||void 0===E.l?void 0:E.l.getDuty);console.log(e);const r=e.data.map((e=>({attendant:null===e||void 0===e?void 0:e.staff.full_name,fuel:null===e||void 0===e?void 0:e.fuel.fuel_type,pumpNo:null===e||void 0===e?void 0:e.pump.code,price:null===e||void 0===e?void 0:e.fuel.liter_price,date:B()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),id:null===e||void 0===e?void 0:e._id})));h(r)}catch(e){console.error("Error fetching AssignDuty data:",e)}};return(0,l.useEffect)((()=>{f()}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{open:e,handleClose:()=>r(!1),fetchAssignData:f}),(0,S.jsxs)(i.Z,{children:[(0,S.jsxs)(t.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,S.jsx)(n.Z,{variant:"h4",children:"Assign Duty List"}),(0,S.jsx)(t.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,S.jsx)(o.Z,{variant:"contained",startIcon:(0,S.jsx)(M.Z,{icon:"eva:plus-fill"}),onClick:()=>r(!0),children:"Meter Allocation"})})]}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(s.Z,{width:"100%",children:(0,S.jsx)(d.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,S.jsx)(u._$,{rows:a&&a,columns:[{field:"attendant",headerName:"ATTENDANT-DESIGNATION",flex:1,cellClassName:" name-column--cell--capitalize"},{field:"fuel",headerName:"FUEL",flex:1},{field:"pumpNo",headerName:"PUMP NO",flex:1},{field:"price",headerName:"PRICE/L",flex:1},{field:"date",headerName:"DATE",flex:1}],getRowId:e=>e.id,slots:{toolbar:m.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},1691:function(e,r,a){a.d(r,{Z:function(){return g}});var l=a(3366),i=a(7462),t=a(2791),n=a(8182),o=a(4419),s=a(6934),d=a(1402),c=a(890),u=a(5878),m=a(1217);function h(e){return(0,m.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var f=a(184);const p=["children","className"],x=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,r)=>r.root})({});var g=t.forwardRef((function(e,r){const a=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:t}=a,s=(0,l.Z)(a,p),c=(e=>{const{classes:r}=e,a=(0,o.Z)({root:["root"]},h,r);return(0,i.Z)({},r,a)})(s);return(0,f.jsx)(x,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:s,className:(0,n.Z)(c.root,t)},a,{classes:c}))}))}}]);
//# sourceMappingURL=916.2f8c8021.chunk.js.map