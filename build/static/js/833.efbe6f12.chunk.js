"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[833,205],{2624:function(e,a,l){var r=l(6934),t=l(8860);const i=(0,r.ZP)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:t.Z.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:t.Z.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});a.Z=i},8860:function(e,a,l){var r=l(2065);const t={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},i={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:t[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:t[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:t,divider:(0,r.Fq)(t[500],.24),text:{primary:t[800],secondary:t[600],disabled:t[500]},background:{paper:"#fff",default:t[100],neutral:t[200]},action:{active:t[600],hover:(0,r.Fq)(t[500],.08),selected:(0,r.Fq)(t[500],.16),disabled:(0,r.Fq)(t[500],.8),disabledBackground:(0,r.Fq)(t[500],.24),focus:(0,r.Fq)(t[500],.24),hoverOpacity:.08,disabledOpacity:.48}};a.Z=i},5310:function(e,a,l){l.d(a,{Z:function(){return d}});var r=l(2007),t=l.n(r),i=l(2791),n=l(2711),s=l(4554),o=l(184);const c=(0,i.forwardRef)(((e,a)=>{let{icon:l,width:r=20,sx:t,...i}=e;return(0,o.jsx)(s.Z,{ref:a,component:n.JO,icon:l,sx:{width:r,height:r,...t},...i})}));c.propTypes={sx:t().object,width:t().oneOfType([t().number,t().string]),icon:t().oneOfType([t().element,t().string])};var d=c},8205:function(e,a,l){l.r(a);l(2791);var r=l(9157),t=l(1691),i=l(3767),n=l(890),s=l(6151),o=l(4554),c=l(7621),d=l(2506),u=l(1724),h=l(5985),m=l(1956),f=l(39),x=l(2624),p=l(3504),y=l(184);a.default=()=>{const e=u.Ry({});(0,d.TA)({initialValues:{},validationSchema:e,onSubmit:async e=>{console.log("leadValues",e),h.Am.success("Lead added successfully")}});return(0,y.jsx)("div",{children:(0,y.jsx)(r.Z,{dividers:!0,children:(0,y.jsxs)(t.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,y.jsxs)(i.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,y.jsx)(n.Z,{style:{marginBottom:"15px"},variant:"h6",children:(0,y.jsx)("h1",{children:"PAYROLL HISTORY DETAILS"})})," ",(0,y.jsx)(i.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,y.jsx)(s.Z,{variant:"contained",component:p.rU,to:"/hrms/payroll",children:"BACK"})})]}),(0,y.jsx)(x.Z,{children:(0,y.jsx)(o.Z,{width:"100%",children:(0,y.jsx)(c.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,y.jsx)(m._$,{rows:[{id:1,fuelType:"Petrol",totalLitersSupplied:"1,930.00 Liters",cost:"40,000,.00",supplier:"Adeola",date:"Wed 2nd March, 2022"}],columns:[{field:"fuelType",headerName:"FUEL TYPE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalLitersSupplied",headerName:"TOTAL LITERS SUPPLIED",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"cost",headerName:"COST",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"supplier",headerName:"SUPPLIER",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:f.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})})})}},6833:function(e,a,l){l.r(a),l.d(a,{default:function(){return R}});var r=l(2791),t=l(9164),i=l(3767),n=l(890),s=l(6151),o=l(4554),c=l(7621),d=l(2624),u=l(1956),h=l(39),m=l(5310),f=l(5289),x=l(1889),p=l(8096),y=l(7133),g=l(8406),v=l(3786),Z=l(7071),j=l(8550),F=l(7123),b=l(9157),w=l(1691),C=l(5661),A=l(5130),D=l(2506),T=l(1724),S=l(5985),k=l(8860),P=l(1240),_=l(5294);var N=l(184);var B=e=>{const{open:a,handleClose:l,fetchPayrollDetails:t}=e,[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),u=T.Ry({staff:T.Z_().required("Staff is required"),basic_salary:T.Rx().required("Basic Salary is required"),allowances:T.Rx().required("Total Allowances is required"),tds:T.Rx().required("TDS is required")}),h=(0,D.TA)({initialValues:{staff:"",basic_salary:"",allowances:"",tds:""},validationSchema:u,onSubmit:async e=>{console.log("leadValues",e);const a=await(async e=>{const a=P.l.savePayroll;return await _.Z.post(a,e)})(e);"internal server error"==a.data?S.Am.error(a.data):(S.Am.success("PayRoll added successfully",{autoClose:600}),h.resetForm(),l(),t())}}),m=async()=>{try{const e=(await(async()=>await _.Z.get(P.l.getAllStaff))()).data.map((e=>({name:null===e||void 0===e?void 0:e.full_name,id:null===e||void 0===e?void 0:e._id})));o(e)}catch(e){S.Am.error("something went wrong")}};return(0,r.useEffect)((()=>{m()}),[]),(0,N.jsx)("div",{children:(0,N.jsxs)(f.Z,{open:a,onClose:l,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,N.jsxs)(C.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,N.jsx)(n.Z,{variant:"h3",style:{marginLeft:"180px"},children:"Add New Payroll"}),(0,N.jsx)(n.Z,{children:(0,N.jsx)(A.Z,{onClick:l,style:{cursor:"pointer"}})})]}),(0,N.jsx)(b.Z,{dividers:!0,children:(0,N.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,N.jsxs)(w.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,N.jsx)(n.Z,{style:{marginBottom:"15px"},variant:"h6",children:(0,N.jsx)("h1",{children:"Enter Payroll Details"})}),(0,N.jsxs)(x.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,N.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,N.jsxs)(p.Z,{fullWidth:!0,children:[(0,N.jsx)(y.Z,{children:"Staff"}),(0,N.jsx)(g.Z,{labelId:"demo-simple-select-label",id:"staff",name:"staff",label:"",size:"small",fullWidth:!0,value:h.values.staff||"",onChange:h.handleChange,error:h.touched.staff&&Boolean(h.errors.staff),helperText:h.touched.staff&&h.errors.staff,children:i&&i.map((e=>(0,N.jsx)(v.Z,{value:e.id,children:e.name},e.id)))}),(0,N.jsx)(Z.Z,{style:{color:k.Z.error.main},children:h.touched.staff&&h.errors.staff})]})}),(0,N.jsxs)(x.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(y.Z,{children:"Basic Salary"}),(0,N.jsx)(j.Z,{id:"basic_salary",name:"basic_salary",size:"small",type:"number",fullWidth:!0,value:h.values.basic_salary,onChange:h.handleChange,error:h.touched.basic_salary&&Boolean(h.errors.basic_salary),helperText:h.touched.basic_salary&&h.errors.basic_salary})]}),(0,N.jsxs)(x.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(y.Z,{children:"Total Allowances"}),(0,N.jsx)(j.Z,{id:"allowances",name:"allowances",size:"small",type:"number",fullWidth:!0,value:h.values.allowances,onChange:h.handleChange,error:h.touched.allowances&&Boolean(h.errors.allowances),helperText:h.touched.allowances&&h.errors.allowances})]}),(0,N.jsxs)(x.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,N.jsx)(y.Z,{children:"Tax Deducted at Source (TDS) "}),(0,N.jsx)(j.Z,{id:"tds",name:"tds",size:"small",type:"number",fullWidth:!0,value:h.values.tds,onChange:h.handleChange,error:h.touched.tds&&Boolean(h.errors.tds),helperText:h.touched.tds&&h.errors.tds})]})]})]}),(0,N.jsxs)(F.Z,{children:[(0,N.jsx)(s.Z,{variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,N.jsx)(s.Z,{onClick:()=>{h.resetForm(),l()},variant:"outlined",color:"error",children:"Cancel"})]})]})})]})})},E=(l(8205),l(2426)),M=l.n(E);var R=()=>{const[e,a]=(0,r.useState)(!1),[l,f]=(0,r.useState)([]),x=async()=>{try{const e=await(async()=>await _.Z.get(null===P.l||void 0===P.l?void 0:P.l.fetchPayroll))();if(console.log(e),"internal server error"===(null===e||void 0===e?void 0:e.data))S.Am.error("internal server error");else{const a=e.data.map((e=>({name:null===e||void 0===e?void 0:e.staff.full_name,allowances:null===e||void 0===e?void 0:e.allowances,tds:null===e||void 0===e?void 0:e.tds,salary:null===e||void 0===e?void 0:e.basic_salary,joinDate:M()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),id:null===e||void 0===e?void 0:e._id})));f(a)}}catch(e){S.Am.error("something went wrong")}};return(0,r.useEffect)((()=>{x()}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(B,{open:e,handleClose:()=>a(!1),fetchPayrollDetails:x}),(0,N.jsxs)(t.Z,{children:[(0,N.jsxs)(i.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,N.jsx)(n.Z,{variant:"h4",children:"Payroll Lists"}),(0,N.jsx)(i.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,N.jsx)(s.Z,{variant:"contained",startIcon:(0,N.jsx)(m.Z,{icon:"eva:plus-fill"}),onClick:()=>a(!0),children:"Add Payroll"})})]}),(0,N.jsx)(d.Z,{children:(0,N.jsx)(o.Z,{width:"100%",children:(0,N.jsx)(c.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,N.jsx)(u._$,{rows:l,columns:[{field:"name",headerName:"STAFF NAME",flex:1,cellClassName:" name-column--cell--capitalize"},{field:"salary",headerName:"SALARY",flex:1},{field:"allowances",headerName:"ALLOWANCE ",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"tds",headerName:"TDS",flex:1},{field:"joinDate",headerName:"JOIN DATE",flex:1}],getRowId:l.id,slots:{toolbar:h.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},1691:function(e,a,l){l.d(a,{Z:function(){return y}});var r=l(3366),t=l(7462),i=l(2791),n=l(8182),s=l(4419),o=l(6934),c=l(1402),d=l(890),u=l(5878),h=l(1217);function m(e){return(0,h.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var f=l(184);const x=["children","className"],p=(0,o.ZP)(d.Z,{shouldForwardProp:e=>(0,o.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,a)=>a.root})({});var y=i.forwardRef((function(e,a){const l=(0,c.Z)({props:e,name:"MuiDialogContentText"}),{className:i}=l,o=(0,r.Z)(l,x),d=(e=>{const{classes:a}=e,l=(0,s.Z)({root:["root"]},m,a);return(0,t.Z)({},a,l)})(o);return(0,f.jsx)(p,(0,t.Z)({component:"p",variant:"body1",color:"text.secondary",ref:a,ownerState:o,className:(0,n.Z)(d.root,i)},l,{classes:d}))}))}}]);
//# sourceMappingURL=833.efbe6f12.chunk.js.map