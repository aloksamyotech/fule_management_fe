"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[825,370],{2624:function(e,r,l){var i=l(6934),t=l(8860);const n=(0,i.ZP)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:t.Z.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:t.Z.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});r.Z=n},8860:function(e,r,l){var i=l(2065);const t={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},n={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:t[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:t[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:t,divider:(0,i.Fq)(t[500],.24),text:{primary:t[800],secondary:t[600],disabled:t[500]},background:{paper:"#fff",default:t[100],neutral:t[200]},action:{active:t[600],hover:(0,i.Fq)(t[500],.08),selected:(0,i.Fq)(t[500],.16),disabled:(0,i.Fq)(t[500],.8),disabledBackground:(0,i.Fq)(t[500],.24),focus:(0,i.Fq)(t[500],.24),hoverOpacity:.08,disabledOpacity:.48}};r.Z=n},5310:function(e,r,l){l.d(r,{Z:function(){return c}});var i=l(2007),t=l.n(i),n=l(2791),a=l(2711),o=l(4554),s=l(184);const d=(0,n.forwardRef)(((e,r)=>{let{icon:l,width:i=20,sx:t,...n}=e;return(0,s.jsx)(o.Z,{ref:r,component:a.JO,icon:l,sx:{width:i,height:i,...t},...n})}));d.propTypes={sx:t().object,width:t().oneOfType([t().number,t().string]),icon:t().oneOfType([t().element,t().string])};var c=d},3370:function(e,r,l){l.r(r);var i=l(2791),t=l(9157),n=l(1691),a=l(3767),o=l(890),s=l(6151),d=l(4554),c=l(7621),u=(l(1724),l(5985),l(1956)),m=l(39),h=l(2624),p=l(3504),f=l(1240),x=l(5294),v=l(2426),g=l.n(v),Z=l(184);r.default=()=>{const[e,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{const e=await x.Z.get(null===f.l||void 0===f.l?void 0:f.l.getOrder);console.log(e);const l=e.data.map((e=>({fuelType:null===e||void 0===e?void 0:e.fuel.fuel_type,totalLitersSupplied:null===e||void 0===e?void 0:e.liters,cost:null===e||void 0===e?void 0:e.cost,supplier:null===e||void 0===e?void 0:e.supplier.name,pump:null===e||void 0===e?void 0:e.pump.code,date:g()(null===e||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm:ss"),id:null===e||void 0===e?void 0:e._id})));r(l)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,Z.jsx)("div",{children:(0,Z.jsx)(t.Z,{dividers:!0,children:(0,Z.jsxs)(n.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,Z.jsxs)(a.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,Z.jsx)(o.Z,{style:{marginBottom:"15px"},variant:"h6",children:(0,Z.jsx)("h1",{children:"ORDER HISTORY DETAILS"})})," ",(0,Z.jsx)(a.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,Z.jsx)(s.Z,{variant:"contained",component:p.rU,to:"/managment/Fuel",children:"BACK"})})]}),(0,Z.jsx)(h.Z,{children:(0,Z.jsx)(d.Z,{width:"100%",children:(0,Z.jsx)(c.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,Z.jsx)(u._$,{rows:e&&e,columns:[{field:"fuelType",headerName:"FUEL TYPE",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"totalLitersSupplied",headerName:"TOTAL LITERS SUPPLIED",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"cost",headerName:"COST",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"supplier",headerName:"SUPPLIER",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"pump",headerName:"PUMP",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"},{field:"date",headerName:"DATE",flex:1,cellClassName:"name-column--cell--capitalize",headerAlign:"center",align:"center"}],getRowId:e=>e.id,slots:{toolbar:m.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})})})}},2825:function(e,r,l){l.r(r),l.d(r,{default:function(){return N}});var i=l(2791),t=l(9164),n=l(3767),a=l(890),o=l(6151),s=l(4554),d=l(7621),c=l(1956),u=l(39),m=l(5310),h=l(2624),p=l(5289),f=l(1889),x=l(8096),v=l(7133),g=l(8406),Z=l(3786),j=l(7071),F=l(8550),y=l(7123),C=l(9157),b=l(1691),w=l(5661),D=l(5130),T=l(2506),A=l(1724),E=l(5294),S=l(1240),k=l(5985),_=l(184);var B=e=>{const{open:r,handleClose:l}=e,[t,n]=(0,i.useState)([]),[s,d]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),m=A.Ry({fuel:A.Z_().required("Fuel Type is required"),supplier:A.Z_().required("Supplier Name is required"),cost:A.Z_().required("Cost is required"),liters:A.Z_().required("Liters is required"),pump:A.Z_().required("Pump is required")}),h=(0,T.TA)({initialValues:{fuel:"",supplier:"",cost:"",liters:"",pump:""},validationSchema:m,onSubmit:async e=>{console.log("Form submitted with values: ",e);try{const r=await E.Z.post(null===S.l||void 0===S.l?void 0:S.l.addOrder,e);console.log("API response:",r.data),k.Am.success("Order added successfully",{autoClose:600}),h.resetForm(),l()}catch(r){console.error("Error adding order:",r),k.Am.error("Failed to add Order",{autoClose:600})}}});return(0,i.useEffect)((()=>{(async()=>{try{const e=(await E.Z.get(null===S.l||void 0===S.l?void 0:S.l.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,qty:null===e||void 0===e?void 0:e.litres,status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e._id})));n(e)}catch(e){console.error("Error fetching fuel data:",e)}})(),(async()=>{try{const e=(await E.Z.get(null===S.l||void 0===S.l?void 0:S.l.supplierList)).data.map((e=>({supplier:null===e||void 0===e?void 0:e.name,id:null===e||void 0===e?void 0:e._id})));d(e)}catch(e){console.error("Error fetching supplier data:",e)}})(),(async()=>{try{const e=(await E.Z.get(null===S.l||void 0===S.l?void 0:S.l.getPump)).data.map((e=>({name:null===e||void 0===e?void 0:e.code,id:null===e||void 0===e?void 0:e._id})));u(e)}catch(e){console.log(e)}})()}),[]),(0,_.jsx)("div",{children:(0,_.jsxs)(p.Z,{open:r,onClose:l,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,_.jsxs)(w.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,_.jsx)(a.Z,{variant:"h3",style:{marginLeft:"180px"},children:"Add New Order"}),(0,_.jsx)(a.Z,{children:(0,_.jsx)(D.Z,{onClick:l,style:{cursor:"pointer"}})})]}),(0,_.jsx)(C.Z,{dividers:!0,children:(0,_.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,_.jsxs)(b.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,_.jsx)(a.Z,{style:{marginBottom:"15px"},variant:"h6",children:(0,_.jsx)("h1",{children:"Enter Order Details"})}),(0,_.jsxs)(f.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,_.jsx)(f.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,_.jsxs)(x.Z,{fullWidth:!0,children:[(0,_.jsx)(v.Z,{children:"Fuel Type"}),(0,_.jsx)(g.Z,{labelId:"demo-simple-select-label",id:"fuel",name:"fuel",label:"",size:"small",fullWidth:!0,value:h.values.fuel,onChange:h.handleChange,error:h.touched.fuel&&Boolean(h.errors.fuel),children:t&&t.map((e=>(0,_.jsx)(Z.Z,{value:e.id,children:e.name},e.id)))}),(0,_.jsx)(j.Z,{error:!0,children:h.errors.fuel})]})}),(0,_.jsxs)(f.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,_.jsx)(v.Z,{children:"Supplier"}),(0,_.jsx)(g.Z,{id:"supplier",name:"supplier",label:"",size:"small",fullWidth:!0,value:h.values.supplier,onChange:h.handleChange,error:h.touched.supplier&&Boolean(h.errors.supplier),children:s&&s.map((e=>(0,_.jsx)(Z.Z,{value:e.id,children:e.supplier},e.id)))}),(0,_.jsx)(j.Z,{error:!0,children:h.errors.supplier})]}),(0,_.jsxs)(f.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,_.jsx)(v.Z,{children:"Total Liters"}),(0,_.jsx)(F.Z,{id:"liters",name:"liters",type:"number",size:"small",fullWidth:!0,value:h.values.liters,onChange:h.handleChange,error:h.touched.liters&&Boolean(h.errors.liters)}),(0,_.jsx)(j.Z,{error:!0,children:h.errors.liters})]}),(0,_.jsxs)(f.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,_.jsx)(v.Z,{children:"Total Cost"}),(0,_.jsx)(F.Z,{id:"cost",name:"cost",size:"small",type:"number",fullWidth:!0,value:h.values.cost,onChange:h.handleChange,error:h.touched.cost&&Boolean(h.errors.cost)}),(0,_.jsx)(j.Z,{error:!0,children:h.errors.cost})]}),(0,_.jsxs)(f.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,_.jsx)(v.Z,{children:"Pump"}),(0,_.jsx)(g.Z,{id:"pump",name:"pump",label:"",size:"small",fullWidth:!0,value:h.values.pump,onChange:h.handleChange,error:h.touched.pump&&Boolean(h.errors.pump),children:c&&c.map((e=>(0,_.jsx)(Z.Z,{value:e.id,children:e.name},e.id)))}),(0,_.jsx)(j.Z,{error:!0,children:h.errors.pump})]})]})]}),(0,_.jsxs)(y.Z,{children:[(0,_.jsx)(o.Z,{type:"submit",variant:"contained",color:"primary",children:"Save"}),(0,_.jsx)(o.Z,{onClick:()=>{h.resetForm(),l()},variant:"outlined",color:"error",children:"Cancel"})]})]})})]})})},M=(0,l(6189).Z)((0,_.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),P=l(3504);l(3370);var N=()=>{const[e,r]=(0,i.useState)(!1),[l,p]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{const e=(await E.Z.get(null===S.l||void 0===S.l?void 0:S.l.fuelList)).data.map((e=>({name:null===e||void 0===e?void 0:e.fuel_type,qty:null===e||void 0===e?void 0:e.litres,status:null===e||void 0===e?void 0:e.status,id:null===e||void 0===e?void 0:e._id})));p(e)}catch(e){console.error("Error fetching fuel data:",e)}})()}),[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B,{open:e,handleClose:()=>r(!1)}),(0,_.jsxs)(t.Z,{children:[(0,_.jsxs)(n.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,_.jsx)(a.Z,{variant:"h4",children:"Fuel-Management"}),(0,_.jsxs)(n.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:[(0,_.jsx)(o.Z,{variant:"contained",startIcon:(0,_.jsx)(m.Z,{icon:"eva:plus-fill"}),onClick:()=>r(!0),children:"Add New Order"}),(0,_.jsx)(o.Z,{variant:"contained",startIcon:(0,_.jsx)(M,{}),component:P.rU,to:"/order/ViewOrderHistory",style:{backgroundColor:"#673AB7 "},children:"View Order History"})]})]}),(0,_.jsx)(h.Z,{children:(0,_.jsx)(s.Z,{width:"100%",children:(0,_.jsx)(d.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,_.jsx)(c._$,{rows:l&&l,columns:[{field:"name",headerName:"FUEL TYPE",flex:1,cellClassName:"name-column--cell"},{field:"status",headerName:"STATUS",flex:1,cellClassName:"name-column--cell"}],getRowId:e=>e.id,slots:{toolbar:u.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},1691:function(e,r,l){l.d(r,{Z:function(){return v}});var i=l(3366),t=l(7462),n=l(2791),a=l(8182),o=l(4419),s=l(6934),d=l(1402),c=l(890),u=l(5878),m=l(1217);function h(e){return(0,m.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var p=l(184);const f=["children","className"],x=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,r)=>r.root})({});var v=n.forwardRef((function(e,r){const l=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:n}=l,s=(0,i.Z)(l,f),c=(e=>{const{classes:r}=e,l=(0,o.Z)({root:["root"]},h,r);return(0,t.Z)({},r,l)})(s);return(0,p.jsx)(x,(0,t.Z)({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:s,className:(0,a.Z)(c.root,n)},l,{classes:c}))}))}}]);
//# sourceMappingURL=825.68c4bce3.chunk.js.map